"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r)){for(var t=0,a=new Array(r.length);t<r.length;t++)a[t]=r[t];return a}}var carrito=document.querySelector("#carrito"),carritoDeCompras=document.querySelector("#lista-carrito tbody"),vaciarCarritoBtn=document.querySelector("#vaciar-carrito"),listaCursos=document.querySelector("#lista-cursos"),articulosCarrito=[],seccion=document.querySelector("#curso-por-categoria"),absoluto=document.querySelector(".absolute"),contador=document.createElement("p");function cargarEventListeners(){listaCursos.addEventListener("click",agregarCurso),seccion.addEventListener("click",agregarCurso),carrito.addEventListener("click",eliminarCurso),document.addEventListener("DOMContentLoaded",function(){articulosCarrito=JSON.parse(localStorage.getItem("carrito"))||[],carritoHTML(),actualizarProd()})}function actualizarProd(){var t=[],r=0;articulosCarrito.forEach(function(r){t.push(r.cantidad)});for(var a=0,o=t;a<o.length;a++){r+=o[a]}contador.classList.add("contador","relative"),absoluto.appendChild(contador),0===(contador.textContent=r)&&contador.remove()}function agregarCurso(r){r.preventDefault(),r.target.classList.contains("agregar-carrito")&&(leerDatosCurso(r.target.parentElement.parentElement),actualizarProd())}function eliminarCurso(r){if(r.target.classList.contains("borrar-curso")){var t=r.target.getAttribute("data-id");articulosCarrito.map(function(r){t===r.id&&(1<r.cantidad?(r.cantidad--,actualizarProd(),carritoHTML()):(articulosCarrito=articulosCarrito.filter(function(r){return r.id!==t}),carritoHTML(),actualizarProd()))})}}function leerDatosCurso(r){var t={imagen:r.querySelector("img").src,titulo:r.querySelector("h4").textContent,id:r.querySelector("a").getAttribute("data-id"),cantidad:1};if(articulosCarrito.some(function(r){return r.id===t.id}))articulosCarrito.map(function(r){return r.id===t.id&&r.cantidad++,r});else articulosCarrito=[].concat(_toConsumableArray(articulosCarrito),[t]);carritoHTML()}function carritoHTML(){limpiarHTML(carritoDeCompras),articulosCarrito.forEach(function(r){var t=document.createElement("tr");r.imagen,r.titulo,r.precio,r.cantidad;t.innerHTML='\n\n        <td>\n            <img src="'.concat(r.imagen,'" width="100%"></td>\n        <td>').concat(r.titulo,"</td>\n        <td>").concat(r.precio,"</td>\n        <td>").concat(r.cantidad,'</td>\n        <td>\n        <a href="#" class="borrar-curso" data-id="').concat(r.id,'"> X </a>\n        </td>\n\n        '),carritoDeCompras.appendChild(t)}),sincronizarStorage()}function sincronizarStorage(){localStorage.setItem("carrito",JSON.stringify(articulosCarrito))}function limpiarHTML(r){for(;r.firstChild;)r.removeChild(r.firstChild)}cargarEventListeners(),vaciarCarritoBtn.addEventListener("click",function(){articulosCarrito=[],limpiarHTML(carritoDeCompras),actualizarProd(),sincronizarStorage()});var buscador=document.querySelector("#buscador"),repetidos=myCourses.map(function(r){return r.categoria}),unicos=new Set(repetidos),categorias=_toConsumableArray(unicos);function cargarCategorias(){var r=!0,t=!1,a=void 0;try{for(var o,e=categorias[Symbol.iterator]();!(r=(o=e.next()).done);r=!0){var i=o.value,n=document.createElement("option");n.text=i,n.value=i,buscador.appendChild(n)}}catch(r){t=!0,a=r}finally{try{r||null==e.return||e.return()}finally{if(t)throw a}}}document.addEventListener("DOMContentLoaded",cargarCategorias);var datosBusqueda={categoria:""};function filtrarDatos(){myCourses.filter(filtrarCategoria)}function filtrarCategoria(r){var t=datosBusqueda.categoria;return t?r.categoria===t:r}buscador.addEventListener("change",function(r){datosBusqueda.categoria=r.target.value,filtrarDatos(),mostrarCurso(r)});var parser=new DOMParser;function mostrarCurso(r){document.querySelector("#curso-por-categoria").innerHTML='\n    <h2 class="centrar-texto">'.concat(r.target.value,'</h2>\n    <div id="aqui" class="grid3"></div>\n    ');var c=document.querySelector("#aqui");c.addEventListener("click",agregarCursoEspecifico);var t=!(c.innerHTML=""),a=!1,o=void 0;try{for(var e,i=myCourses[Symbol.iterator]();!(t=(e=i.next()).done);t=!0)curso=e.value,curso.categoria===datosBusqueda.categoria&&function(){myCourses.filter(filtrarCategoria);var r,t,a=curso,o=a.imagen,e=a.titulo,i=a.profesor,n=a.id;r='\n                    <div class="card">\n                        <img id="imagen-curso" src='.concat(o,' class="imagen-curso u-full-width">\n                        <div class="info-card">\n                            <h4 id="titulo-curso">').concat(e,'</h4>\n                            <p id="profesor-curso">').concat(i,'</p>\n                            <img src="img/estrellas.png">\n                            <p class="precio">$800  <span class="u-pull-right ">$400</span></p>\n                            <a href="#" class="u-semi-full-width button-primary button input agregar-carrito" data-id=').concat(n," >Agregar Al Carrito</a>\n                        </div>\n                    </div> \n                     "),t=parser.parseFromString(r,"text/html"),console.log(t),c.appendChild(t.body.firstChild)}()}catch(r){a=!0,o=r}finally{try{t||null==i.return||i.return()}finally{if(a)throw o}}}var buscadorTextual=document.querySelector("#submit-buscador"),botonBuscador=document.querySelector(".submit-buscador");function buscarCurso(){var r=buscadorTextual.value.toLowerCase(),t=!0,a=!1,o=void 0;try{for(var e,i=myCourses[Symbol.iterator]();!(t=(e=i.next()).done);t=!0){var n=e.value.titulo.toLowerCase();n.includes(r)&&(console.log(n),limpiarHTML(seccion))}}catch(r){a=!0,o=r}finally{try{t||null==i.return||i.return()}finally{if(a)throw o}}}botonBuscador.addEventListener("click",buscarCurso);
//# sourceMappingURL=app.min.js.map
