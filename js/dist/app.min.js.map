{"version":3,"sources":["app.js"],"names":["carrito","document","querySelector","carritoDeCompras","vaciarCarritoBtn","listaCursos","articulosCarrito","seccion","absoluto","contador","createElement","agregarCurso","addEventListener","eliminarCurso","cargarEventListeners","parse","localStorage","getItem","carritoHTML","actualizarProd","total","forEach","curso","array","push","cantidad","_i","_array","length","appendChild","textContent","remove","e","contains","target","parentElement","sincronizarStorage","preventDefault","classList","cursoId","getAttribute","cursoSeleccionado","leerDatosCurso","filter","id","imagen","src","titulo","some","infoCurso","map","existe","concat","_toConsumableArray","row","precio","innerHTML","setItem","JSON","stringify","limpiarHTML","espacio","removeChild","firstChild","buscador","categoria","unicos","Set","repetidos","categorias","cargarCategorias","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","option","opcion","_step","value","err","_iterator","datosBusqueda","filtrarDatos","myCourses","filtrarCategoria","mostrarCurso","parser","DOMParser","lugar","agregarCursoEspecifico","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","newCard","_curso","cursosEspecificos","profesor","parseFromString","log","htmlCard","_iterator2","buscadorTextual","botonBuscador","buscarCurso","requirement","toLowerCase","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","Symbol","iterator","next","done","includes","console"],"mappings":"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","file":"app.min.js","sourcesContent":["const carrito = document.querySelector('#carrito');\r\nconst carritoDeCompras = document.querySelector('#lista-carrito tbody');\r\nconst vaciarCarritoBtn = document.querySelector('#vaciar-carrito');\r\nconst listaCursos = document.querySelector('#lista-cursos');\r\nlet articulosCarrito = [];\r\nconst seccion = document.querySelector('#curso-por-categoria');\r\n\r\n//      variables del numero flotante\r\nconst absoluto = document.querySelector('.absolute');\r\nconst contador = document.createElement('p');\r\n\r\n\r\n//  EVENTOS\r\ncargarEventListeners();\r\nfunction cargarEventListeners() {\r\n    listaCursos.addEventListener('click', agregarCurso);\r\n    seccion.addEventListener('click', agregarCurso);\r\n    carrito.addEventListener('click', eliminarCurso);\r\n    \r\n    \r\n    // //muestra los cursos de localStorage\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n        articulosCarrito = JSON.parse( localStorage.getItem('carrito')) || [];\r\n        carritoHTML();\r\n        actualizarProd();\r\n    })\r\n}\r\n\r\n////// JAvascript de numero flotante   ///////\r\nfunction actualizarProd() {\r\n    const array = [];\r\n    let total = 0;\r\n    articulosCarrito.forEach(curso => {\r\n        array.push(curso.cantidad);\r\n    })\r\n    for( let i of array) {\r\n        total += i;\r\n    }\r\n   \r\n    contador.classList.add('contador', 'relative');\r\n    absoluto.appendChild(contador);\r\n    contador.textContent = total;\r\n    if(total === 0) {\r\n    contador.remove()\r\n    }\r\n}\r\n\r\nvaciarCarritoBtn.addEventListener('click', () => {\r\n    articulosCarrito = [];\r\n    limpiarHTML(carritoDeCompras);\r\n    actualizarProd();\r\n    sincronizarStorage();\r\n})\r\n\r\n\r\nfunction agregarCurso(e) {\r\n    e.preventDefault();\r\n    if(e.target.classList.contains('agregar-carrito')) {\r\n        const cursoSeleccionado = e.target.parentElement.parentElement;\r\n        leerDatosCurso(cursoSeleccionado);\r\n        actualizarProd();\r\n    }\r\n}\r\n\r\nfunction eliminarCurso(e){\r\n    if(e.target.classList.contains('borrar-curso')) {\r\n        const cursoId = e.target.getAttribute('data-id');\r\n        const cursos = articulosCarrito.map( curso => {\r\n            if(cursoId === curso.id) {\r\n                if(curso.cantidad > 1) {\r\n                    curso.cantidad--;  \r\n                    actualizarProd();\r\n                    carritoHTML();\r\n                }else {\r\n                    articulosCarrito = articulosCarrito.filter( curso => curso.id !== cursoId);\r\n                    carritoHTML();\r\n                    actualizarProd();\r\n                }\r\n\r\n            }\r\n        })\r\n\r\n    }\r\n}\r\n\r\nfunction leerDatosCurso(curso){\r\n    // creamos un objeto\r\n    const infoCurso = {\r\n        imagen: curso.querySelector('img').src,\r\n        titulo: curso.querySelector('h4').textContent,\r\n        // precio: curso.querySelector('.precio span').textContent,\r\n        id: curso.querySelector('a').getAttribute('data-id'),\r\n        cantidad: 1\r\n    }\r\n\r\n    // revisa si un elemento ya existe en el carrito\r\n    const existe = articulosCarrito.some( curso => curso.id === infoCurso.id) ;\r\n    if(existe) {\r\n        //actualizar cantidad\r\n        const cursos = articulosCarrito.map( curso => {\r\n            if( curso.id === infoCurso.id) {\r\n                curso.cantidad++;\r\n                return curso; // retorna objeto actualizado\r\n            } else {\r\n                return curso; // retorna objetos no duplicadsos\r\n            }\r\n        } )\r\n    }else {\r\n        articulosCarrito = [...articulosCarrito, infoCurso];\r\n\r\n    }\r\n\r\n    carritoHTML();\r\n\r\n}\r\n// muestra cursos en el carrito\r\n\r\nfunction carritoHTML(){\r\n\r\n    limpiarHTML(carritoDeCompras);\r\n    articulosCarrito.forEach( curso => {\r\n        const row = document.createElement('tr');\r\n        const { imagen, titulo, precio, cantidad }  = curso;\r\n        row.innerHTML = `\r\n\r\n        <td>\r\n            <img src=\"${curso.imagen}\" width=\"100%\"></td>\r\n        <td>${curso.titulo}</td>\r\n        <td>${curso.precio}</td>\r\n        <td>${curso.cantidad}</td>\r\n        <td>\r\n        <a href=\"#\" class=\"borrar-curso\" data-id=\"${curso.id}\"> X </a>\r\n        </td>\r\n\r\n        `;\r\n        carritoDeCompras.appendChild(row);\r\n    });\r\n   \r\n    // agregar el carrito de Compras al LocalStorage\r\n    sincronizarStorage();\r\n}\r\nfunction sincronizarStorage() {\r\n    localStorage.setItem('carrito', JSON.stringify(articulosCarrito))\r\n}\r\nfunction limpiarHTML(espacio) {\r\n    while(espacio.firstChild) {\r\n        espacio.removeChild(espacio.firstChild)\r\n    }\r\n}\r\n\r\n///////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n// generar buscador//\r\n\r\n\r\n\r\nconst buscador = document.querySelector('#buscador');\r\n\r\n\r\nconst repetidos = myCourses.map(curso => {\r\n    return curso.categoria;\r\n});\r\n\r\nconst unicos = new Set(repetidos);\r\nconst categorias = [...unicos];\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", cargarCategorias)\r\n// funcion para Cargar categorias al campo <select>\r\nfunction cargarCategorias() {\r\n\r\n    for(let opcion of categorias) {\r\n        const option = document.createElement('option')\r\n        option.text = opcion;\r\n        option.value = opcion;\r\n        buscador.appendChild(option)\r\n    }\r\n}\r\n\r\nconst datosBusqueda = {\r\n    categoria: ''\r\n}\r\n\r\nbuscador.addEventListener('change', e => {\r\n    datosBusqueda.categoria = e.target.value\r\n    filtrarDatos(); \r\n    mostrarCurso(e)  \r\n})\r\n// buscador.selectedIndex = \"1\";\r\n\r\nfunction filtrarDatos() {\r\n    const resultado = myCourses.filter(filtrarCategoria);\r\n}\r\n\r\nfunction filtrarCategoria(curso) {\r\n    const {categoria} = datosBusqueda\r\n    if(categoria) {\r\n        return curso.categoria === categoria;    \r\n    }\r\n        return curso;\r\n}\r\n\r\nlet parser = new DOMParser();\r\n\r\nfunction mostrarCurso(e) {\r\n    const cursosEspecificos = document.querySelector('#curso-por-categoria');\r\n    cursosEspecificos.innerHTML = `\r\n    <h2 class=\"centrar-texto\">${e.target.value}</h2>\r\n    <div id=\"aqui\" class=\"grid3\"></div>\r\n    `\r\n    const lugar = document.querySelector('#aqui');\r\n    //agrega curso generado x seleccion de categoria\r\n    lugar.addEventListener('click', agregarCursoEspecifico);\r\n    lugar.innerHTML = ``;\r\n    for(curso of myCourses) {\r\n        if(curso.categoria === datosBusqueda.categoria) {\r\n            const resultado = myCourses.filter(filtrarCategoria);\r\n            const {imagen, titulo, profesor, id} = curso;\r\n            agregarCursoEspecifico();\r\n            function agregarCursoEspecifico(){                \r\n                let newCard = `\r\n                    <div class=\"card\">\r\n                        <img id=\"imagen-curso\" src=${imagen} class=\"imagen-curso u-full-width\">\r\n                        <div class=\"info-card\">\r\n                            <h4 id=\"titulo-curso\">${titulo}</h4>\r\n                            <p id=\"profesor-curso\">${profesor}</p>\r\n                            <img src=\"img/estrellas.png\">\r\n                            <p class=\"precio\">$800  <span class=\"u-pull-right \">$400</span></p>\r\n                            <a href=\"#\" class=\"u-semi-full-width button-primary button input agregar-carrito\" data-id=${id} >Agregar Al Carrito</a>\r\n                        </div>\r\n                    </div> \r\n                     `;\r\n                \r\n                let htmlCard = parser.parseFromString(newCard, 'text/html');\r\n                console.log(htmlCard);\r\n                lugar.appendChild(htmlCard.body.firstChild);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// buscador textual\r\n\r\nconst buscadorTextual = document.querySelector('#submit-buscador')\r\nconst botonBuscador = document.querySelector('.submit-buscador');\r\n\r\nbotonBuscador.addEventListener('click', buscarCurso);\r\n\r\nfunction buscarCurso() {\r\n    const requirement = buscadorTextual.value.toLowerCase();\r\n    for(let curso of myCourses) {\r\n        const titulo = curso.titulo.toLowerCase();\r\n        // const profesor = curso.profesor.toLowerCase();\r\n        if(titulo.includes(requirement)){\r\n            console.log(titulo)\r\n            limpiarHTML(seccion);\r\n            \r\n        }\r\n    }\r\n    }"]}