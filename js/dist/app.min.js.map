{"version":3,"sources":["app.js"],"names":["carrito","document","querySelector","carritoDeCompras","vaciarCarritoBtn","listaCursos","articulosCarrito","seccion","precioInicial","absoluto","agregarCurso","addEventListener","eliminarCurso","cargarEventListeners","parse","localStorage","getItem","carritoHTML","actualizarProd","total","forEach","curso","array","push","cantidad","_i","_array","length","appendChild","contador","textContent","remove","add","totalPrecio","createElement","totalPrecioDiv","totalBill","e","preventDefault","target","classList","contains","parentElement","limpiarHTML","getAttribute","map","id","cursoSeleccionado","filter","cursoId","infoCurso","src","leerDatosCurso","some","concat","_toConsumableArray","imagen","titulo","row","innerHTML","sincronizarStorage","setItem","JSON","stringify","espacio","firstChild","removeChild","console","repetidos","myCourses","unicos","Set","categoria","categorias","cargarCategorias","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","opcion","value","option","err","datosBusqueda","filtrarDatos","filtrarCategoria","buscador","mostrarCurso","parser","DOMParser","lugar","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","htmlCard","_curso","profesor","agregarCursoEspecifico","parseFromString","newCard","log","body","buscadorTextual","botonBuscador","buscarCurso","toLowerCase","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","includes","requirement","divLupa","agregarDivNewCard"],"mappings":"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","file":"app.min.js","sourcesContent":["const carrito = document.querySelector('#carrito');\r\nconst carritoDeCompras = document.querySelector('#lista-carrito tbody');\r\nconst vaciarCarritoBtn = document.querySelector('#vaciar-carrito');\r\nconst listaCursos = document.querySelector('#lista-cursos');\r\nlet articulosCarrito = [];\r\nconst seccion = document.querySelector('#curso-por-categoria');\r\nlet precioInicial = 0;\r\n\r\n//      variables del numero flotante\r\nconst absoluto = document.querySelector('.absolute');\r\nconst contador = document.createElement('p');\r\n\r\n\r\n//  EVENTOS\r\ncargarEventListeners();\r\nfunction cargarEventListeners() {\r\n    listaCursos.addEventListener('click', agregarCurso);\r\n    seccion.addEventListener('click', agregarCurso);\r\n    carrito.addEventListener('click', eliminarCurso);\r\n    \r\n    \r\n    // //muestra los cursos de localStorage\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n        articulosCarrito = JSON.parse( localStorage.getItem('carrito')) || [];\r\n        carritoHTML();\r\n        actualizarProd();\r\n    })\r\n}\r\n\r\n////// JAvascript de numero flotante   ///////\r\nfunction actualizarProd() {\r\n    const array = [];\r\n    let total = 0;\r\n    articulosCarrito.forEach(curso => {\r\n        array.push(curso.cantidad);\r\n    })\r\n    for( let i of array) {\r\n        total += i;\r\n    }\r\n   \r\n    contador.classList.add('contador', 'relative');\r\n    absoluto.appendChild(contador);\r\n    contador.textContent = total;\r\n    if(total === 0) {\r\n    contador.remove()\r\n    }\r\n\r\n    totalBill(total);\r\n    function totalBill(total) {\r\n        const totalPrecioDiv = document.querySelector(\"#total-precio\");\r\n        limpiarHTML(totalPrecioDiv)\r\n        const totalPrecio = document.createElement(\"span\");\r\n        totalPrecio.textContent =`$ ${total * 400}`;\r\n        console.log(totalPrecio)\r\n        totalPrecioDiv.appendChild(totalPrecio);\r\n        if(total === 0) {\r\n            limpiarHTML(totalPrecioDiv)\r\n        }\r\n    }\r\n}\r\n\r\nvaciarCarritoBtn.addEventListener('click', () => {\r\n    articulosCarrito = [];\r\n    limpiarHTML(carritoDeCompras);\r\n    actualizarProd();\r\n    sincronizarStorage();\r\n})\r\n\r\n\r\nfunction agregarCurso(e) {\r\n    e.preventDefault();\r\n    if(e.target.classList.contains('agregar-carrito')) {\r\n        const cursoSeleccionado = e.target.parentElement.parentElement;\r\n        leerDatosCurso(cursoSeleccionado);\r\n        actualizarProd();\r\n    }\r\n}\r\n\r\nfunction eliminarCurso(e){\r\n    if(e.target.classList.contains('borrar-curso')) {\r\n        const cursoId = e.target.getAttribute('data-id');\r\n        const cursos = articulosCarrito.map( curso => {\r\n            if(cursoId === curso.id) {\r\n                if(curso.cantidad > 1) {\r\n                    curso.cantidad--;  \r\n                    actualizarProd();\r\n                    carritoHTML();\r\n                }else {\r\n                    articulosCarrito = articulosCarrito.filter( curso => curso.id !== cursoId);\r\n                    carritoHTML();\r\n                    actualizarProd();\r\n                }\r\n\r\n            }\r\n        })\r\n\r\n    }\r\n}\r\n\r\nfunction leerDatosCurso(curso){\r\n    // creamos un objeto\r\n    const infoCurso = {\r\n        imagen: curso.querySelector('img').src,\r\n        titulo: curso.querySelector('h4').textContent,\r\n        // precio: curso.querySelector('.precio span').textContent,\r\n        id: curso.querySelector('a').getAttribute('data-id'),\r\n        cantidad: 1\r\n    }\r\n\r\n    // revisa si un elemento ya existe en el carrito\r\n    const existe = articulosCarrito.some( curso => curso.id === infoCurso.id) ;\r\n    if(existe) {\r\n        //actualizar cantidad\r\n        const cursos = articulosCarrito.map( curso => {\r\n            if( curso.id === infoCurso.id) {\r\n                curso.cantidad++;\r\n                curso.precio += curso.precio\r\n                return curso; // retorna objeto actualizado\r\n            } else {\r\n                return curso; // retorna objetos no duplicadsos\r\n            }\r\n        } )\r\n    }else {\r\n        articulosCarrito = [...articulosCarrito, infoCurso];\r\n\r\n    }\r\n\r\n    carritoHTML();\r\n\r\n}\r\n// muestra cursos en el carrito\r\n\r\nfunction carritoHTML(){\r\n\r\n    limpiarHTML(carritoDeCompras);\r\n    articulosCarrito.forEach( curso => {\r\n        const row = document.createElement('tr');\r\n        const { imagen, titulo, cantidad }  = curso;\r\n        row.innerHTML = `\r\n\r\n        <td>\r\n            <img src=\"${curso.imagen}\" width=\"100%\"></td>\r\n        <td>${curso.titulo}</td>\r\n    \r\n        <td>${curso.cantidad}</td>\r\n        <td>\r\n        <a href=\"#\" class=\"borrar-curso\" data-id=\"${curso.id}\"> X </a>\r\n        </td>\r\n        `;\r\n        carritoDeCompras.appendChild(row);\r\n    });\r\n   \r\n    // agregar el carrito de Compras al LocalStorage\r\n    sincronizarStorage();\r\n}\r\nfunction sincronizarStorage() {\r\n    localStorage.setItem('carrito', JSON.stringify(articulosCarrito))\r\n}\r\nfunction limpiarHTML(espacio) {\r\n    while(espacio.firstChild) {\r\n        espacio.removeChild(espacio.firstChild)\r\n    }\r\n}\r\n\r\n///////////////////////////////////////////////////////////////////\r\n\r\n\r\n///// generar buscador//\r\n\r\n// Buscador por categorias\r\n\r\nconst buscador = document.querySelector('#buscador');\r\n\r\n\r\nconst repetidos = myCourses.map(curso => {\r\n    return curso.categoria;\r\n});\r\n\r\nconst unicos = new Set(repetidos);\r\nconst categorias = [...unicos];\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", cargarCategorias)\r\n// funcion para Cargar categorias al campo <select>\r\nfunction cargarCategorias() {\r\n\r\n    for(let opcion of categorias) {\r\n        const option = document.createElement('option')\r\n        option.text = opcion;\r\n        option.value = opcion;\r\n        buscador.appendChild(option)\r\n    }\r\n}\r\n\r\nconst datosBusqueda = {\r\n    categoria: ''\r\n}\r\n\r\nbuscador.addEventListener('change', e => {\r\n    datosBusqueda.categoria = e.target.value\r\n    filtrarDatos(); \r\n    mostrarCurso(e)  \r\n})\r\n// buscador.selectedIndex = \"1\";\r\n\r\nfunction filtrarDatos() {\r\n    const resultado = myCourses.filter(filtrarCategoria);\r\n}\r\n\r\nfunction filtrarCategoria(curso) {\r\n    const {categoria} = datosBusqueda\r\n    if(categoria) {\r\n        return curso.categoria === categoria;    \r\n    }\r\n        return curso;\r\n}\r\n\r\nlet parser = new DOMParser();\r\n\r\nfunction mostrarCurso(e) {\r\n    limpiarHTML(seccion)\r\n    seccion.innerHTML = `\r\n    <h2 class=\"centrar-texto\">${e.target.value}</h2>\r\n    <div id=\"aqui\" class=\"grid3\"></div>\r\n    `\r\n    const lugar = document.querySelector('#aqui');\r\n    //agrega curso generado x seleccion de categoria\r\n    lugar.addEventListener('click', agregarCursoEspecifico);\r\n    lugar.innerHTML = ``;\r\n    for(curso of myCourses) {\r\n        if(curso.categoria === datosBusqueda.categoria) {\r\n            const resultado = myCourses.filter(filtrarCategoria);\r\n            const {imagen, titulo, profesor, id} = curso;\r\n            agregarCursoEspecifico();\r\n            function agregarCursoEspecifico(){                \r\n                let newCard = `\r\n                    <div class=\"card cont-abs\">\r\n                        <img id=\"imagen-curso\" src=${imagen} class=\"imagen-curso u-full-width\">\r\n                        <div class=\"info-card\">\r\n                            <h4 id=\"titulo-curso\">${titulo}</h4>\r\n                            <p id=\"profesor-curso\">${profesor}</p>\r\n                            <img src=\"img/estrellas.png\">\r\n                            <p class=\"precio\">$800  <span class=\"u-pull-right \">$400</span></p>\r\n                            <a href=\"#\" class=\"u-semi-full-width btn-relative button-primary button input agregar-carrito\" data-id=${id} >Agregar Al Carrito</a>\r\n                        </div>\r\n                    </div> \r\n                     `;\r\n                \r\n                let htmlCard = parser.parseFromString(newCard, 'text/html');\r\n                console.log(htmlCard);\r\n                lugar.appendChild(htmlCard.body.firstChild);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// buscador textual por Lupa\r\n\r\nconst buscadorTextual = document.querySelector('#submit-buscador')\r\nconst botonBuscador = document.querySelector('.submit-buscador');\r\n\r\nbotonBuscador.addEventListener('click', buscarCurso);\r\n\r\nfunction buscarCurso() {\r\n    const requirement = buscadorTextual.value.toLowerCase();\r\n    limpiarHTML(seccion);\r\n    agregarDivNewCard();\r\n    function agregarDivNewCard() {\r\n        seccion.innerHTML =  `\r\n        <h2 class=\"centrar-texto\">Los Resultados de su Búsqueda</h2>\r\n        <div class=\"grid3\" id=\"lugar-lupa\"></div>\r\n        `;\r\n    for(let curso of myCourses) {\r\n        const titulo = curso.titulo.toLowerCase();\r\n        const profesor = curso.profesor.toLowerCase();\r\n        if(titulo.includes(requirement) || profesor.includes(requirement)){\r\n            const {imagen, titulo, profesor, id} = curso;\r\n            console.log(titulo);\r\n            const divLupa = document.querySelector(\"#lugar-lupa\")\r\n            let newCard =  `\r\n                <div class=\"card cont-abs\">\r\n                    <img id=\"imagen-curso\" src=${imagen} class=\"imagen-curso u-full-width\">\r\n                    <div class=\"info-card\">\r\n                        <h4 id=\"titulo-curso\">${titulo}</h4>\r\n                        <p id=\"profesor-curso\">${profesor}</p>\r\n                        <img src=\"img/estrellas.png\">\r\n                        <p class=\"precio\">$800  <span class=\"u-pull-right \">$400</span></p>\r\n                        <a href=\"#\" class=\"u-semi-full-width btn-relative button-primary button input agregar-carrito\" data-id=${id} >Agregar Al Carrito</a>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n            `  ;\r\n            \r\n            let htmlCard = parser.parseFromString(newCard, 'text/html');\r\n            console.log(htmlCard);\r\n            // newCard.appendChild(buscadosPorLupa);\r\n            divLupa.appendChild(htmlCard.body.firstChild);\r\n        }\r\n        \r\n    }\r\n    }\r\n}"]}